# Prime Database Setup - Quick Start

**Status:** Ready to set up  
**Platform:** macOS (detected)

---

## Step 1: Install PostgreSQL

Since PostgreSQL is not currently installed, install it first:

### macOS (Homebrew - Recommended)
```bash
# Install PostgreSQL 15
brew install postgresql@15

# Start PostgreSQL service
brew services start postgresql@15

# Verify installation
psql --version
```

### Alternative: PostgreSQL.app (macOS GUI)
- Download from: https://postgresapp.com/
- Install and launch the app
- Click "Initialize" to create a new server

---

## Step 2: Run Setup Script

Once PostgreSQL is installed and running:

```bash
# Make script executable (if not already)
chmod +x scripts/setup-prime-database.sh

# Run setup script
./scripts/setup-prime-database.sh
```

The script will:
1. âœ… Check PostgreSQL installation
2. âœ… Create database (`prime_database_dev`)
3. âœ… Create user (`prime_user`)
4. âœ… Deploy schema (all tables, indexes, functions)
5. âœ… Create `.env.prime-db` configuration file

---

## Step 3: Verify Setup

Test the connection:

```bash
# Load environment variables
source .env.prime-db

# Connect to database
psql -h localhost -U prime_user -d prime_database_dev
```

Inside psql, verify tables:
```sql
\dt
-- Should show 10 tables:
-- auth_credentials, auth_sessions, audio_files, collaboration_sessions,
-- mixx_recall, plugin_presets, prime_users, project_snapshots,
-- session_states, studio_projects

\q
```

---

## Manual Setup (Alternative)

If the script doesn't work, follow the manual setup guide:

ðŸ“– **See:** `docs/architecture/prime-database-setup-guide.md`

---

## Next Steps

Once database is set up:

1. âœ… Database ready
2. **Next:** Start building Prime Auth system
3. **Next:** Build Prime Database API layer

---

## Troubleshooting

### PostgreSQL Not Found
```bash
# Check if installed
which psql

# If not found, install:
brew install postgresql@15
```

### PostgreSQL Not Running
```bash
# Check status
brew services list | grep postgresql

# Start service
brew services start postgresql@15
```

### Permission Issues
If you get permission errors, you may need to create a local postgres user:
```bash
createuser -s postgres
```

Or use the postgres superuser:
```bash
sudo -u postgres psql
```

---

## Files Created

- âœ… `scripts/setup-prime-database.sh` - Automated setup script
- âœ… `scripts/setup-prime-database.ps1` - Windows PowerShell script
- âœ… `docs/architecture/prime-database-setup-guide.md` - Detailed guide
- âœ… `env.prime-db.example` - Environment file template
- âœ… `.env.prime-db` - Your local config (created by script, gitignored)

---

## Connection Info

After setup, your connection details will be in `.env.prime-db`:

```
Host: localhost
Port: 5432
Database: prime_database_dev
User: prime_user
Password: [generated by script]
```

Connection string:
```
postgresql://prime_user:password@localhost:5432/prime_database_dev
```

---

*Ready to build Prime Database! ðŸš€*
